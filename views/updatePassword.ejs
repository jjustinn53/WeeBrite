<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>WeeBrite - Update Password</title>
   <link rel="stylesheet" href="/css/login.css">
</head>
<body>

   <div class="banner">
       <a href="/" class="banner-logo-link">
           <img src="/images/WeeBrite.png" alt="WeeBrite Logo" class="banner-logo">
       </a>

       <nav class="banner-nav">
           <a href="/" class="nav-btn">Home</a>
           <a href="/quiz" class="nav-btn">Play</a>
           <a href="/squad" class="nav-btn">Squad Builder</a>
           <% if (!authenticated) { %>
               <a href="/login" class="nav-btn">Login</a>
           <% } else { %>
               <a href="/logout" class="nav-btn">Logout</a>
           <% } %>
       </nav>
   </div>

   <h1>Update Password</h1>
  
   <div class="container">
       <div class="login-box">

           <% if (typeof message !== 'undefined' && message) { %>
             <div class="error"><%= message %></div>
           <% } %>

           <form class="login-form" method="POST" action="/update-password" onsubmit="return validatePasswords()">
               <div class="input-group">
                   <label for="username">Username</label>
                   <input type="text" id="username" name="username" placeholder="Enter your username" required>
               </div>
              
               <div class="input-group">
                   <label for="currentPassword">Current Password</label>
                   <input type="password" id="currentPassword" name="currentPassword" placeholder="Enter current password" required>
               </div>
              
               <div class="input-group">
                   <label for="newPassword">New Password</label>
                   <input type="password" id="newPassword" name="newPassword" placeholder="Enter new password" required>
               </div>
              
               <div class="input-group">
                   <label for="confirmPassword">Confirm New Password</label>
                   <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Re-enter new password" required>
               </div>
              
               <button type="submit" class="login-btn">Update Password</button>
              
               <button type="button" class="signup-btn" onclick="location.href='/login'">Back to Login</button>
           </form>
       </div>
   </div>

<script>
function validatePasswords() {
    const newPassword = document.getElementById('newPassword').value;
    const confirmPassword = document.getElementById('confirmPassword').value;
    
    if (newPassword !== confirmPassword) {
        alert('New passwords do not match. Please try again.');
        return false;
    }
    return true;
}
</script>
</body>
</html>
